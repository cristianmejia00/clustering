if (!("LDAvis"      %in% rownames(installed.packages()))) {install.packages("LDAvis")}
if (!("servr"       %in% rownames(installed.packages()))) {install.packages("servr")}
if (!("proxy"       %in% rownames(installed.packages()))) {install.packages("proxy")}
if (!("SnowballC"   %in% rownames(installed.packages()))) {install.packages("SnowballC")}
if (!("data.table"  %in% rownames(installed.packages()))) {install.packages("data.table")}
if (!("Rmpfr"       %in% rownames(installed.packages()))) {install.packages("Rmpfr")}
if (!("plyr"        %in% rownames(installed.packages()))) {install.packages("plyr")}
if (!("dplyr"       %in% rownames(installed.packages()))) {install.packages("dplyr")}
if (!("topicmodels" %in% rownames(installed.packages()))) {install.packages("topicmodels")}
if (!("ldatuning"   %in% rownames(installed.packages()))) {install.packages("ldatuning")}
if (!("plotly"      %in% rownames(installed.packages()))) {install.packages("plotly")}
if (!("stringr"     %in% rownames(installed.packages()))) {install.packages("stringr")}
if (!("ngram"       %in% rownames(installed.packages()))) {install.packages("ngram")}
if (!("slam"        %in% rownames(installed.packages()))) {install.packages("slam")}
if (!("Rtsne"       %in% rownames(installed.packages()))) {install.packages("Rtsne")}
if (!("tools"       %in% rownames(installed.packages()))) {install.packages("tools")}
if (!("devtools"    %in% rownames(installed.packages()))) {install.packages("devtools")}
if (!("Opener5"     %in% rownames(installed.packages()))) {
library(devtools)
install_github("cristianmejia00/Opener5")
}
if (!("DT"          %in% rownames(installed.packages()))) {install.packages("DT")}
if (!("glue"        %in% rownames(installed.packages()))) {install.packages("glue")}
if (!("svglite"     %in% rownames(installed.packages()))) {install.packages("svglite")}
if (!("uuid"        %in% rownames(installed.packages()))) {install.packages("uuid")}
####################################################
# Load libraries
library(tm)
library(igraph)
library(lda)
library(LDAvis)
library(servr)
library(proxy)
library(SnowballC)
library(data.table)
# sudo apt-get install libmpfr-dev
library(Rmpfr)
library(plyr)
library(dplyr)
# sudo apt-get install libgsl-dev
library(topicmodels)
library(ldatuning)
# apt-get install r-cran-rjava
#library(qdap)
library(plotly)
library(stringr)
library(ngram)
#library(devtools)
#install_github("cristianmejia00/Opener5")
library(Opener5)
#library(rowr) #Not available for R 3.6.3 (?!) Dont know where it goes.
library(slam)
library(Rtsne)
library(tools)
library(DT)
library(glue)
library(uuid)
library(readr)
X03_test <- read_csv("~/Desktop/CABS_2024/03_test.csv")
View(X03_test)
library(readr)
ABS_2021_journal_rankings_v2 <- read_csv("~/Library/CloudStorage/OneDrive-Personal/Documentos/00-Research projects/47 - NPD Design/04-Materials/ABS Journal Guide/ABS 2021 journal rankings v2.csv")
View(ABS_2021_journal_rankings_v2)
abs_fields <- unique(ABS_2021_journal_rankings_v2$Field)
new_row <- c()
ttt <- X03_test
#new_row
nr <- c()
p <- 0
#new_row
results <- list()
nr <- c()
p <- 0
for (i in c(1:length(ttt))) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
rw[1] <- i
}
# 02 - Journal
if (p == 1) {
p <- 2
rw[2] <- i
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
rw[3] <- i
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
rw[1] <- i
}
# 02 - Journal
if (p == 1) {
p <- 2
rw[2] <- i
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
rw[3] <- i
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
nr[1] <- i
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[2] <- i
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[3] <- i
}
}
View(results)
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
nr[[1]] <- i
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[[2]] <- i
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[[3]] <- i
print(nr)
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
nr[[1]] <- i
break
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[[2]] <- i
break
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[[3]] <- i
print(nr)
break
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
nr[[1]] <- i
break
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[[2]] <- i
break
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[[3]] <- i
print(nr)
break
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
nr[1] <- i
break
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[2] <- i
break
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[3] <- i
print(nr)
break
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
nr[1] <- i
next
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[2] <- i
next
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[3] <- i
print(nr)
next
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, nr)
nr <- c()
nr[[1]] <- i
next
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[[2]] <- i
next
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[[3]] <- i
print(nr)
next
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, list(nr))
nr <- c()
nr[[1]] <- i
next
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[[2]] <- i
next
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[[3]] <- i
print(nr)
next
}
}
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, list(nr))
nr <- c()
nr[[1]] <- i
next
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[[2]] <- i
next
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[[3]] <- i
print(nr)
next
}
}
lll <- data.frame(results)
results[[0]] <- NULL
lll <- as.data.frame.list(results)
lll <- as.data.frame.array(results)
lll <- as.data.frame(results)
results <- results[2:length(results)]
lll <- as.data.frame(results)
View(lll)
lll <- data.frame(results)
lll <- as.data.frame.list(results)
lll <- as.data.frame.array(results)
lll <- as.data.frame.table(results)
lll <- as.data.frame.vector(results)
View(lll)
lll <- as.data.frame.AsIs(results)
lll <- as.data.frame.data.frame(results)
lll <- as.data.frame.raw(results)
lll <- as.data.frame.array(results)
lll <- as.data.frame.ts(results)
lll <- as.data.frame.factor(results)
lll <- data.frame(results)
lll <- as.data.frame(results)
lll <- as.data.frame.list(results)
lll <- as.data.frame.array(results)
lll <- as.data.frame.table(results)
lll <- as.data.frame.AsIs(results)
View(lll)
results[[3]]
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, list(nr))
nr <- c()
nr[1] <- i
next
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[2] <- i
next
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[3] <- i
print(nr)
next
}
}
results <- results[2:length(results)]
lll <- as.data.frame.AsIs(results)
lll <- as.data.frame.array(results)
lll <- as.data.frame.list(results)
View(lll)
lll <- as.data.frame(results)
lll <- data.frame(results)
lll <- as.data.frame.AsIs(results)
lll <- as.data.frame.character(results)
lll <- as.data.frame.vector(results)
View(lll)
lll <- as.data.frame.factor(results)
View(lll)
lll <- as.data.frame.list(results)
lll <- as.data.frame.list(results) %>% t()
View(lll)
rownames(lll) <- NULL
View(lll)
results <- results[2:length(results)]
lll <- as.data.frame.list(results) %>% t() %>% as.data.frame()
rownames(lll) <- NULL
View(lll)
# First, install and load the required package if you haven't already
# install.packages("readxl")
library(readxl)
install.packages("readxl")
# First, install and load the required package if you haven't already
# install.packages("readxl")
library(readxl)
# Get all sheet names from the Excel file
file.choose()
# Get all sheet names from the Excel file
file.choose()
# Get all sheet names from the Excel file
sheet_names <- excel_sheets("/Users/cristian/Desktop/CABS_2024/02_edited.xlsx")
# Create a list to store all the data frames
all_sheets <- list()
# Get all sheet names from the Excel file
sheet_names <- excel_sheets(excel_file)
# File paths
excel_file <- "/Users/cristian/Desktop/CABS_2024/02_edited.xlsx"
# Get all sheet names from the Excel file
sheet_names <- excel_sheets(excel_file)
# Create a list to store all the data frames
all_sheets <- list(excel_file)
# Create a list to store all the data frames
all_sheets <- list()
# Read each sheet into the list
for(sheet in sheet_names) {
all_sheets[[sheet]] <- read_excel(excel_file, sheet = sheet)
}
# Bind all sheets
ttt <- rbind(all_sheets)
# Bind all sheets
ttt <- bind_rows(all_sheets)
#new_row
results <- list()
nr <- c()
p <- 0
for (i in ttt$Field) {
# 01 - Field
if (i %in% abs_fields) {
print("new_row_found")
p <- 1
results <- c(results, list(nr))
nr <- c()
nr[1] <- i
next
}
# 02 - Journal
if (p == 1) {
p <- 2
nr[2] <- i
next
}
# 03 - ABS 2024
if (p == 2) {
p <- 3
nr[3] <- i
print(nr)
next
}
}
results <- results[2:length(results)]
lll <- as.data.frame.list(results) %>% t() %>% as.data.frame()
rownames(lll) <- NULL
View(lll)
colnames(lll) <- c("Field", "Journal", "AJG 2024")
# Write
write.csv(lll, file="cabs_ajg_2024.csv" row.names = FALSE)
# Write
write.csv(lll, file="cabs_ajg_2024.csv", row.names = FALSE)
?tempfile
